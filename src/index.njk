---
layout: layouts/base.njk
pageTitle: Linux Studies
headerType: home
asideType: home
---
{% import "macros/ui.njk" as ui %}

<section class="portal__introduction">

<section class="module__content">
  <header class="module__header-content">
    <h1 class="module__main-title"><i class="fa-solid fa-rocket"></i> Bem-vindo ao Linux Studies!</h1>
    <p class="module__subtitle">Esta trilha faz parte do DevOps Arcade e foi criada para te guiar do básico ao essencial em Linux, 
      com foco em prática real e aprendizado progressivo.</p>
    <br>
    <p class="module__subtitle">Aqui você acompanha sua evolução, acessa os módulos e controla seu progresso ao longo da jornada.</p>
  </header>

  <!-- EXPLICAÇÃO -->
  <section id="explicacao" class="module__section">
    <h2 class="module__section-title"><i class="fa-solid fa-book"></i> Como funciona esta trilha</h2>
    <ul class="portal__features-list">
      <li><strong>Conteúdo Progressivo:</strong> Cada módulo constrói sobre o anterior, garantindo uma compreensão sólida.</li>
      <li><strong>Exercícios Práticos:</strong> Teste seus conhecimentos com exercícios práticos ao final de cada módulo.</li>
      <li><strong>Checklist de Progresso:</strong> Use o checklist no menu lateral para acompanhar seu progresso.</li>
      <li><strong>Recursos Adicionais:</strong> Links e materiais para aprofundar seu conhecimento.</li>
    </ul>
  </section>

  <!-- SOBRE O PROGRESSO -->
  <section id="explicacao" class="module__section">
    <h2 class="module__section-title"><i class="fa-solid fa-chart-line"></i> Sobre o Progresso</h2>
    <p>
      Para manter seu progresso atualizado:
      <ul class="portal__features-list">
        <li>Marque o módulo como concluído apenas após finalizar todas as atividades.</li>
        <li>A barra de progresso mostra sua evolução na trilha.</li>
        <li>O botão "Reiniciar Curso" zera o progresso salvo.</li>
      </ul>
    </p>

    {% set type = 'tip' %}
    {% set title = 'Dica' %}
    {% set text = 'A trilha é progressiva e cada nível prepara você para o próximo.
    <strong>Recomendamos que siga a sequência</strong> para consolidar bem os conceitos.<br>
    Você pode rastrear seu progresso conforme avança pelos módulos. Os módulos completados aparecerão com uma marcação especial!' %}
    {% include "partials/alert.njk" %}
  </section>

<!-- Barra de progresso -->
<div class="portal__progress-overview">
  <h3 class="portal__progress-title">Seu Progresso</h3>
  <div class="portal__progress-bar">
    <div class="portal__progress-fill" id="progress-bar-fill" style="width: 0%"></div>
  </div>
  <p class="portal__progress-text"><span id="progress-text">0</span> de 8 módulos completados</p>
  
  <!-- Botão de Reset -->
  {{ ui.button(
    text='Reiniciar Curso',
    href='#',
    icon='fa-solid fa-arrow-rotate-left',
    title='Limpar progresso e reiniciar o curso',
    class='portal__progress-reset-btn',
    attrs='data-modal-open="reset-modal"'
  ) }}
</div>
</section>

<section class="portal__track">
  <ol class="portal__modules-list" aria-label="Lista de módulos da trilha Linux">

    <li>
      {{ ui.moduleCard(
        id='00-onboarding',
        level='Level 00',
        title='Onboarding',
        description='Prepare-se para a jornada! Neste módulo de boas-vindas, você aprenderá como navegar pela plataforma, estrutura dos conteúdos e o que esperar nos próximos níveis.',
        href='/modules/00-onboarding/'
      ) }}
    </li>

    <li>
      {{ ui.moduleCard(
        id='01-terminal-basics',
        level='Level 01',
        title='Terminal Basics',
        description='Domine os fundamentos do terminal Linux. Aprenda comandos essenciais, navegação de diretórios e manipulação de arquivos através da linha de comando.',
        href='/modules/01-terminal-basics/'
      ) }}
    </li>

    <li>
      {{ ui.moduleCard(
        id='02-filesystem',
        level='Level 02',
        title='Filesystem',
        description='Entenda a hierarquia do sistema de arquivos Linux. Explore diretórios especiais, inodes, hard links e symbolic links.',
        href='/modules/02-filesystem/'
      ) }}
    </li>

    <li>
      {{ ui.moduleCard(
        id='03-permissions',
        level='Level 03',
        title='Permissions',
        description='Aprenda sobre permissões de arquivo, usuários, grupos e controle de acesso no Linux. Segurança começa aqui!',
        href='/modules/03-permissions/'
      ) }}
    </li>

    <li>
      {{ ui.moduleCard(
        id='04-processes',
        level='Level 04',
        title='Processes',
        description='Gerencie processos do sistema. Aprenda sobre PID, sinais, estados de processo e como monitorar a execução de aplicações.',
        href='/modules/04-processes/'
      ) }}
    </li>

    <li>
      {{ ui.moduleCard(
        id='05-networking',
        level='Level 05',
        title='Networking',
        description='Configure e gerencie redes em Linux. Explore endereços IP, DNS, roteamento e ferramentas de diagnóstico de rede.',
        href='/modules/05-networking/'
      ) }}
    </li>

    <li>
      {{ ui.moduleCard(
        id='06-systemd-logs',
        level='Level 06',
        title='Systemd & Logs',
        description='Domine o systemd e entenda como o Linux registra e gerencia logs. Essencial para administração e troubleshooting de sistemas.',
        href='/modules/06-systemd-logs/'
      ) }}
    </li>

    <li>
      {{ ui.moduleCard(
        id='07-admin-essentials',
        level='Level 07',
        title='Linux Admin Essentials',
        description='Consolide o aprendizado com rotinas comuns de administração e automação.',
        href='/modules/07-admin-essentials/'
      ) }}
    </li>

  </ol>
</section>

{% set resetModalContent %}
    <p class="reset-modal__message">
      Tem certeza que deseja reiniciar o curso? <strong>Todo o seu progresso será apagado</strong> e não poderá ser recuperado.
    </p>
    
    <div class="reset-modal__actions">
      <button class="reset-modal__btn reset-modal__btn--cancel" data-modal-close>
        <i class="fa-solid fa-xmark" aria-hidden="true"></i> Cancelar
      </button>
      <button class="reset-modal__btn reset-modal__btn--confirm" onclick="confirmReset();">
        <i class="fa-solid fa-arrow-rotate-left" aria-hidden="true"></i> Reiniciar
      </button>
    </div>
{% endset %}

{{ ui.modal(id='reset-modal', title='Reiniciar Curso', content=resetModalContent) }}

<!-- Script para gerenciar progresso na página -->
<script>

  // Função para toggle de conclusão do módulo
  function toggleModuleComplete(moduleId) {
    const tracker = window.progressTracker;
    const isCurrentlyComplete = tracker.isComplete(moduleId);
    
    if (isCurrentlyComplete) {
      // Desmarcar
      const progress = tracker.getProgress();
      delete progress[moduleId];
      localStorage.setItem('linux-studies-progress', JSON.stringify(progress));
      tracker.triggerUpdateEvent();
    } else {
      // Marcar
      tracker.markComplete(moduleId);
    }
    
    updateProgressDisplay();
  }
  // Função para atualizar a exibição do progresso
  function updateProgressDisplay() {
    const tracker = window.progressTracker;
    const progress = tracker.getOverallProgress();
    const completed = Object.keys(tracker.getProgress()).length;
    
    // Atualizar barra
    const progressBar = document.getElementById('progress-bar-fill');
    if (progressBar) {
      progressBar.style.width = progress + '%';
    }
    
    // Atualizar texto
    const progressText = document.getElementById('progress-text');
    if (progressText) {
      progressText.textContent = completed;
    }
    
    // Atualizar cards e botões completados
    document.querySelectorAll('[data-module-id]').forEach(card => {
      const moduleId = card.dataset.moduleId;
      const isComplete = tracker.isComplete(moduleId);
      
      if (isComplete) {
        card.classList.add('module__card--completed');
      } else {
        card.classList.remove('module__card--completed');
      }
      
      // Atualizar texto do botão
      const btn = card.querySelector('.module__complete-btn .btn-text');
      if (btn) {
        btn.textContent = isComplete ? 'Desmarcar' : 'Marcar como Concluído';
      }
      
      // ← ADICIONAR: Atualizar ícone do botão
      const icon = card.querySelector('.module__complete-btn .btn-icon');
      if (icon) {
        icon.className = isComplete 
          ? 'btn-icon fa-solid fa-square-check' 
          : 'btn-icon fa-regular fa-square';
      }
    });
  }



  // Confirmar reset
  function confirmReset() {
    window.progressTracker.resetProgress();
    updateProgressDisplay();
    
    // Fechar modal (usando lógica do componente modal.js)
    const modal = document.getElementById('reset-modal');
    if (modal) {
      modal.classList.remove('is-open');
      modal.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
    }
    
    // Feedback visual
    showResetNotification();
  }

  // Notificação visual de sucesso
  function showResetNotification() {
    const notification = document.createElement('div');
    notification.className = 'progress-reset-notification';
    notification.textContent = '✓ Curso reiniciado com sucesso!';
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
      notification.classList.add('show');
    }, 10);
    
    setTimeout(() => {
      notification.classList.remove('show');
      setTimeout(() => notification.remove(), 300);
    }, 3000);
  }

  document.addEventListener('DOMContentLoaded', function() {
    updateProgressDisplay();
  });

  // Atualizar quando progresso muda
  window.addEventListener('progressUpdated', updateProgressDisplay);
</script>